
````markdown
ุฏุฑุฎูุงุณุช ุดูุง ุฏู ุจุฎุด ุฏุงุฑุฏ:

1. ุชุจุฏู ุฌุฑุงู ฺฉุงุฑ ฺฉู ุจู ุฒุจุงู ุณุงุฏู ุชูุถุญ ุฏุงุฏู ุจู ฺฉ **ุฏุงฺฏุฑุงู ูุนูุงุฑ ุจุตุฑ**.
2. ุชุฑุฌูู ููุงู ุฌุฑุงู ุจู ฺฉ **ุณูุฏ ูู ุฏูู** ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงูุ ุจุง ุฐฺฉุฑ ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ.

ุจุงุฏ ูุฑ ุฏู ุฑุง ุจุง ููุงู ุฏูุช ู ุฌุฒุฆุงุช ุงูุฌุงู ุฏูู.

---

### **ุจุฎุด ฑ: ุฏุงฺฏุฑุงู ูุนูุงุฑ ุดูุงุชฺฉ (ูููฺุงุฑุช)**

ุงู ุฏุงฺฏุฑุงูุ ฺฉู ูุฑุขูุฏ ุณูุงูพ ุจู ุฒูุฌุฑูโุง ุจุง ููุฏูฺฏ ุฏุงุฎู ุฑุง ุจู ุตูุฑุช ุจุตุฑ ููุงุด ูโุฏูุฏ.

```mermaid
sequenceDiagram
participant App as ๐ฑ ุงูพูฺฉุดู ุงูุฏุฑูุฏ
participant Backend as ๐ค ุจฺฉโุงูุฏ (Go)
participant Phoenix_S as SC Sepolia
participant Phoenix_M as SC Mumbai
participant Treasury_S as ๐ฆ ุฎุฒุงููโุฏุงุฑ Sepolia
participant Treasury_M as ๐ฆ ุฎุฒุงููโุฏุงุฑ Mumbai

Note over App, Backend: ูุฑุญูู ฑ: ุดุฑูุน ู ุงุณุชุนูุงู ููุช
App->>+Backend: GET /swap/pairs (ุฌูุชโูุง ูุงุจู ูุนุงููู ฺฉุฏูโุงูุฏุ)
Backend-->>-App: ูุณุช ุฌูุชโูุง (ุจุฑ ุงุณุงุณ ููุฌูุฏ ุฎุฒุงููโุฏุงุฑ)

App->>+Backend: POST /swap/quote (ฑฐฐ USDT ุงุฒ Sepolia ุจู MATIC)
Backend-->>-App: ูพุงุณุฎ ููุช (นธ.ต MATIC ุจู Mumbai ุจุง quoteId)

Note over App, Backend: ูุฑุญูู ฒ: ุชุนูุฏ ฺฉุงุฑุจุฑ (ุขูโฺู)
App->>App: ฺฉุงุฑุจุฑ ููุช ุฑุง ุชุงุฏ ูโฺฉูุฏ
App->>App: ุณุงุฎุช ู ุงูุถุง ูุฌูุฒ Permit ุจุฑุง ฑฐฐ USDT (ุฑู Sepolia)
App->>+Backend: POST /swap/execute (ุจุง quoteId ู ุงูุถุง Permit)

Note over Backend, Phoenix_S: ูุฑุญูู ณ: ุจุฑุฏุงุดุช ุฏุงุฑุง ฺฉุงุฑุจุฑ (ุฑู ุฒูุฌุฑู Sepolia)
Backend->>Backend: ุจุฑุฑุณ ุณูุงูุช (ููุฌูุฏ ฺฉุงุฑุจุฑ)
Backend->>+Phoenix_S: ูุฑุงุฎูุงู executeTradeWithPermit(ุงูุถุง)
Phoenix_S-->>Treasury_S: ุงูุชูุงู ฑฐฐ USDT ุงุฒ ฺฉุงุฑุจุฑ ุจู ุฎุฒุงููโุฏุงุฑ
Phoenix_S-->>-Backend: ุชุฑุงฺฉูุด ูููู (Tx Hash 1)

Note over Backend, Treasury_M: ูุฑุญูู ด: ุงุฑุณุงู ุฏุงุฑุง ุจู ฺฉุงุฑุจุฑ (ุฑู ุฒูุฌุฑู Mumbai)
Backend->>+Treasury_M: ุงุฑุณุงู นธ.ต MATIC ุจู ุขุฏุฑุณ ฺฉุงุฑุจุฑ
Treasury_M-->>-Backend: ุชุฑุงฺฉูุด ูููู (Tx Hash 2)
Backend-->>-App: ูพุงุณุฎ ููุง (ูุนุงููู ูููู)

Note over App: ูุฑุญูู ต: ููุงุด ูุชุฌู
App->>App: ููุงุด ูพุงู ููููุช ุจู ฺฉุงุฑุจุฑ
App->>App: (ุฏุฑ ูพุณโุฒููู) ุจุฑุฑุณ ููุฌูุฏ ุฌุฏุฏ MATIC ฺฉุงุฑุจุฑ
````

---

### **ุจุฎุด ฒ: ุณูุฏ ูู ุฏูู ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู**

**ููุถูุน:** ูพุงุฏูโุณุงุฒ MVP ูฺฺฏ "ุณูุงูพ ุจู ุฒูุฌุฑูโุง ุจุง ููุฏูฺฏ ุฏุงุฎู"

**ุชฺฉููููฺโูุง ฺฉูุฏ:** Go (Gin, go-ethereum), Solidity, Kotlin.

#### **ฑ. ุฒุฑุณุงุฎุช ู ูพฺฉุฑุจูุฏ (Backend)**

- **ฺฉู ูพููโูุง ุฎุฒุงููโุฏุงุฑ (Treasury Wallets):**
    
    - ุงุฌุงุฏ ุฏู ฺฉู ูพูู ูุฌุฒุง: ฺฉ ุจุฑุง ุดุจฺฉู ุชุณุช Sepolia ู ุฏฺฏุฑ ุจุฑุง Mumbai.
        
    - ฺฉูุฏูุง ุฎุตูุต ุจุงุฏ ุจู ุตูุฑุช ุงูู ุฐุฎุฑู ู ุฏุฑ ุจฺฉโุงูุฏ ุฏุฑ ุฏุณุชุฑุณ ุจุงุดูุฏ.
        
- **ูุฑุงุฑุฏุงุฏ ููุดููุฏ `PhoenixContract`:**
    
    - ูุฑุงุฑุฏุงุฏ ุจุงุฏ ุฑู ูุฑ ุฏู ุดุจฺฉู ูุณุชูุฑ ุดูุฏ ู ุขุฏุฑุณ ุฎุฒุงููโุฏุงุฑ ุฏุฑ constructor ุชูุธู ฺฏุฑุฏุฏ.
        
    - ุขุฏุฑุณ ฺฉู ูพูู ุงุฏูู ุจุงุฏ ุจู ุนููุงู `owner` ุง `relayer` ุชูุธู ุดูุฏ.
        

#### **ฒ. API Endpoints (Backend)**

- **`GET /swap/pairs`**
    
    - ูุณุช ุฌูุชโุงุฑุฒูุง ูุงุจู ูุนุงููู ุจุฑ ุงุณุงุณ ููุฌูุฏ ุฎุฒุงููโุฏุงุฑ.
        
    - ุจุฑุง ุฌูุช `USDT_SEPOLIA -> MATIC_MUMBAI`ุ ููุฌูุฏ MATIC ุฏุฑ ุฎุฒุงููโุฏุงุฑ Mumbai ุจุงุฏ ฺฉุงู ุจุงุดุฏ.
        
- **`POST /swap/quote`**
    
    - ูุฑูุฏ:
        
        ```json
        { "fromAsset": "USDT", "fromChainId": 11155111, "toAsset": "MATIC", "amount": "100" }
        ```
        
    - ููุทู:
        
        1. ุงุณุชุนูุงู ููุช MATIC/USDT ุงุฒ API ุฎุงุฑุฌ.
            
        2. ุชุฎูู ูุฒูู ฺฏุณ ุจุง go-ethereum.
            
        3. ุชุจุฏู ูุฒูู ฺฏุณ ุจู USDT.
            
        4. ูุญุงุณุจู ฺฉุงุฑูุฒุฏ ุดุฑฺฉุช (ูุซูุงู ฐ.ตูช).
            
        5. ูุญุงุณุจู ููุฏุงุฑ ููุง ุฏุฑุงูุช ฺฉุงุฑุจุฑ.
            
        6. ุงุฌุงุฏ ู ุฐุฎุฑู `quoteId` ุจุง ุงููุถุง ฺฉูุชุงู.
            
- **`POST /swap/execute`**
    
    - ูุฑูุฏ:
        
        ```json
        { "quoteId": "...", "userSignature": "0x...", "destinationAddress": "0x..." }
        ```
        
    - ููุทู:
        
        1. ุจุฑุฑุณ ุงุนุชุจุงุฑ `quoteId`.
            
        2. ุจุฑุฑุณ balance ู allowance ฺฉุงุฑุจุฑ ุจุง eth_call.
            
        3. ุณุงุฎุช ู ุงุฑุณุงู ุชุฑุงฺฉูุด ุจุฑุฏุงุดุช ุฏุฑ Sepolia.
            
        4. ุณุงุฎุช ู ุงุฑุณุงู ุชุฑุงฺฉูุด ุงุฑุณุงู ุฏุฑ Mumbai.
            
        5. ุซุจุช ูุด ุชุฑุงฺฉูุดโูุง ู ุงุฑุณุงู ูพุงุณุฎ ูููู.
            

#### **ณ. ููุทู ฺฉูุงูุช (ุงูุฏุฑูุฏ)**

- **ูุงฺูู `:core`**
    
    - ฺฉูุงุณ `PermitSigner` ุจุฑุง ุงุฌุงุฏ ู ุงูุถุง Permit (EIP-712).
        
- **ูุงฺูู `:data`**
    
    - ุงูุชุฑูุณโูุง `SwapRepository` ุจุฑุง `/pairs`, `/quote`, `/execute`.
        
- **ูุงฺูู `:feature_swap` (ViewModel & UI)**
    
    - `SwapViewModel`:
        
        1. ูุฑุงุฎูุงู `getSwapPairs()` ุจุฑุง ูพุฑ ฺฉุฑุฏู UI.
            
        2. ูุฑุงุฎูุงู `getQuote()` ูพุณ ุงุฒ ูุฑูุฏ ููุฏุงุฑ.
            
        3. ูุฑุงุฎูุงู `getNonce` ุงุฒ ุดุจฺฉู Sepolia.
            
        4. ุงุฌุงุฏ ุงูุถุง ุจุง `PermitSigner`.
            
        5. ุงุฌุฑุง `executeSwap()` ุจุง ุงูุถุง.
            
        6. ูุฏุฑุช ูุถุนุชโูุง UI (Loading, Success, Error).
            

